@*@model IEnumerable<HomeIndexViewModel>*@
@model Book_Store.ViewModels.HomeIndexViewModel

@{
    ViewData["Title"] = "Book Store - Best Place To Find Your Book";
}

<!--=================================
hero-banner Section -->
<section id="hero-banner">
    <div class="container">
        <div class="row">
            <div class="col-md-8 my-auto">
                <div class="banner-content space-ptb">
                    <h2>Find Your Imagine </h2>
                    <h6 class="mt-5 font-xl">A wide range of books to meet any taste and budges</h6>
                    <p class="mt-4 text-justify">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Quis ea ea amet consectetur
                        <br> laboriosam aperiam delectus, amet qui.
                    </p>
                    <p class="mt-4 text-justify">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Quis ea amet consectetur <br>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Quis ea amet consectetur
                        <br> laboriosam aperiam delectus, amet qui.
                    </p>
                    <button class="btn btn-primary mt-5">Start Subscribtion <i class='bx bx-right-arrow-alt ml-3'></i></button>
                </div>
                <div class="row">
                    <div class="footer-banner d-flex w-100">
                        <div class="col-md-4 d-flex">
                            <i class='bx bx-color-fill mr-2 my-auto'></i>
                            <h6>Color Book</h6>
                        </div>
                        <div class="col-md-4 d-flex">
                            <i class='bx bx-image mr-2 my-auto'></i>
                            <h6>High Grap</h6>
                        </div>
                        <div class="col-md-4 d-flex">
                            <i class='bx bx-mobile-alt mr-2 my-auto'></i>
                            <h6>Mobile View</h6>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 space-ptb my-auto">
                <div class="image-banner">
                    <div class="background-book">
                        <img src="~/images/book-home.jpg" class="custom-shadow2" alt="banner">
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!--=================================
hero-banner Section -->
<!--=================================
Book List Section -->
<section id="book-list">
    <div class="container">
        <!--=================================
        News Release Section -->
        <section class="news-release">
            <h1 class="font-lg text-muted m-0 my-auto">Newest Release</h1>
            <hr class="mx-auto">
            <div class="news-release px-5">
                <div class="row" id="NewestRelease">
                    @*Return Json Data*@
                </div>
            </div>
        </section>
        <!--=================================
        News Release Section -->

        <section class="popular-category mt-5">
            <h1 class="font-lg m-0 my-auto text-muted">Popular Category</h1>
            <hr class="mx-auto">
            <div class="popular-category px-5">
                <div class="row" id="popular-category-section">

                    @foreach (var genre in Model.Genres)
                    {
                        <div class="col-lg-4 col-md-6 mt-4">
                            <div class="item bg-white p-4 text-center custom-shadow">
                                <div class="title">
                                    <h6 class="text-dark">@genre.Name</h6>
                                </div>
                                <a asp-controller="Home" asp-action="GetBooksByGenre" asp-route-id="@genre.Id" class="btn btn-primary btn_View_Books mt-4">View Books <i class='bx bx-show-alt ml-1 custom-shadow2'></i></a>
                            </div>
                        </div>
                    }

                </div>
            </div>
        </section>

        <!--=================================
        Recommended Section -->
        <section class="recommended mt-5">
            <h1 class="font-lg text-muted m-0 my-auto">Recommended For You</h1>
            <hr class="mx-auto">
            <div class="news-release px-5">
                <div class="row" id="GetRecommended">

                </div>
            </div>
        </section>
        <!--=================================
        Recommended Section -->
    </div>
</section>
<!--=================================
Book List Section -->
<!--=================================
why us section -->
<section id="why-us">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-9">
                <div class="section-title mb-0">
                    <h1 class="mb-2">Why Us</h1>
                    <p>Our Services has many specialized areas, but our CUSTOMERS are our real specialty.</p>
                </div>
            </div>
            <div class="col-lg-3 text-lg-right">
                <a class="btn btn-primary" href="about-us.html">More about us <i class='bx bx-right-arrow-alt ml-1'></i></a>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <div class="content my-5">
                    <div class="content px-3">
                        <h6>1.</h6>
                        <p class="font-md text-justify mt-4">
                            The world of reading and books has been brought directly
                            to you by the use of technology to  enable customers to buy books online
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="content my-5">
                    <div class="content px-3">
                        <h6>2.</h6>
                        <p class="font-md text-justify mt-4">
                            An exotic and expansive range of books dealing with
                            various different subjects and titles are available on BOOK STORE for customers to order books online.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="content px-3">
                    <h6>3.</h6>
                    <p class="font-md text-justify mt-4">
                        This is one of the best online bookstores that provides special offers and multiple
                        categories like Arts and Photography, Biographies and Memoirs, and more...
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>
<!--=================================
why us section -->
<!--=================================
newsletter -->
<section class="py-5 bg-section">
    <div class="container">
        <div class="row">
            <div class="col-md-5">
                <h3 class="text-white text-center mb-0 font-xl">Sign up to our newsletter to get the latest news and offers.</h3>
            </div>
            <div class="col-md-7 mt-3 mt-md-0">
                <div class="newsletter">
                    <form class="d-flex mx-auto ml-auto bg-white p-2">
                        <div class="form-group mb-0 w-75">
                            <input type="email" class="form-control" placeholder="Enter email">
                        </div>
                        <button type="submit" class="btn btn-primary btn-notified">Get notified</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
<!--=================================
newsletter -->



@section Scripts{
    <script>
        $(document).ready(function () {
            $.ajax({
                type: "GET",
                contentType: 'application/json; charset=utf-8',
                dataType: 'json',
                url: 'Home/GetNewestReleaseJson',
                success: function (result) {
                    let divBook = $('#NewestRelease');
                    for (var i = 0; i < result.length; i++) {
                        /*let imageBook = $('#imageBook');*/
                        let htmlContent = `
                                   <div class="col-md-3 mt-5" >
                                        <div class="item">
                                            <div class="image">
                                                <a asp-Controller="Books" asp-action="Details" asp-route-id="${result[i].Id}"><img id="imageBook" src="data:image\/*;base64,${result[i].Image}" alt="book"></a>
                                            </div>
                                                <h4>
                                                    <a asp-Controller="Books" asp-action="Details" asp-route-id="${result[i].Id}">${result[i].Title}</a>
                                                </h4>

                                                <p>Genre: ${result[i].Genres.Name}</p>

                                                <div class="item-footer d-flex justify-content-between align-items-center">
                                                    <b>$${result[i].Price}</b>
                                                    <div class="d-flex">
                                                        <a href="#" class="mr-2"><i class='bx bx-heart font-lg border' title="Favourite"></i></a>
                                                        <span class="badge rounded-pill bg-warning text-dark my-auto"><i class='bx bxs-star'></i> ${result[i].Rate}</span>
                                                    </div>
                                               </div>
                                           </div >
                                    </div >`

                        divBook.append(htmlContent);
                    };

                }
            });

            $.ajax({
                type: "GET",
                contentType: 'application/json; charset=utf-8',
                dataType: 'json',
                url: 'Home/GetRecommendedJson',
                success: function (RecommendedResult) {
                    var divBookRecommended = $('#GetRecommended');
                    for (var i = 0; i < RecommendedResult.length; i++) {
                        let htmlRecommended = `
                                   <div class="col-md-3 mt-5" >
                                        <div class="item">
                                            <div class="image">
                                                <a asp-controller="Books" asp-action="Details" asp-route-id="${RecommendedResult[i].Id}"><img id="imageBook" src="data:image\/*;base64,${RecommendedResult[i].Image}" alt="book"></a>
                                            </div>
                                                <h4>
                                                    <a asp-controller="Books" asp-action="Details" asp-route-id="${RecommendedResult[i].Id}"> ${RecommendedResult[i].Title}</a>

                                                </h4>

                                                <p>Genre: ${RecommendedResult[i].Genres.Name}</p>

                                                <div class="item-footer d-flex justify-content-between align-items-center">
                                                  <b>$${RecommendedResult[i].Price}</b>
                                                    <div class="d-flex">
                                                        <a href="#" class="mr-2"><i class='bx bx-heart font-lg border' title="Favourite"></i></a>
                                                        <span class="badge rounded-pill bg-warning text-dark my-auto"><i class='bx bxs-star'></i> ${RecommendedResult[i].Rate}</span>
                                                    </div>
                                               </div>
                                           </div >
                                    </div >`

                        divBookRecommended.append(htmlRecommended);

                    };

                }
            });

            //$.ajax({
            //    type: "GET",
            //    contentType: 'application/json; charset=utf-8',
            //    dataType: 'json',
            //    url: 'Home/GetPopulareCategoryJson',
            //    success: function (PopularCatResult) {
            //        var divBookPopular = $('#popular-category-section');
            //        for (var i = 0; i < PopularCatResult.length; i++) {
            //            let htmlPopularCategory = `
            //                   <div class="col-lg-4 col-md-6 mt-4">
            //                        <div class="item bg-white p-4 text-center custom-shadow">
            //                            <div class="title">
            //                                <h6 class="text-dark">${PopularCatResult[i].Genres.Name}</h6>
            //                            </div>
            //                            <a href="#" class="btn btn-primary btn_View_Books mt-4">View Books <i class='bx bx-show-alt ml-1 custom-shadow2'></i></a>
            //                        </div>
            //                    </div>
            //                   `
            //            divBookPopular.append(htmlPopularCategory);
            //        };
            //    }
            //});
        });
    </script>
}
